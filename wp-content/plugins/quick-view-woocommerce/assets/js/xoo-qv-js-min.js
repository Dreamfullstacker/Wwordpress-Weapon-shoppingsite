jQuery(document).ready(function(a){function b(){a("a.zoom").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),a("a[data-rel^='prettyPhoto']").prettyPhoto({show_title:xoo_qv_localize.prettyPhoto_title,hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1})}function c(b,c){var d=a(document).height()+"px",e=a(document).width()+"px";"top"==b?a(".xoo-qv-inner-modal").css("transform","translate(0,-"+d+")").addClass(c):"next"==b?a(".xoo-qv-inner-modal").css("transform","translate(-"+e+",0)").addClass(c):"prev"==b&&a(".xoo-qv-inner-modal").css("transform","translate("+e+",0)").addClass(c)}function d(b,c){a(".xoo-qv-inner-modal").css("opacity","0").addClass(c)}function e(){}function f(a,b){"linear"==xoo_qv_localize.modal_anim?h(a,c,b,"xoo-qv-animation-linear"):"fade-in"==xoo_qv_localize.modal_anim?h(a,d,null,"xoo-qv-animation-fadein"):h(a,e)}function g(b){a.each(b.target.classList,function(b,c){"xoo-qv-close"!=c&&"xoo-qv-inner-modal"!=c||(a(".xoo-qv-opac").hide(),a(".xoo-qv-panel").removeClass("xoo-qv-panel-active"),a(".xoo-qv-modal").html(""))})}function h(c,d,e,f){c.action="xoo_qv_ajax",a.ajax({url:xoo_qv_localize.adminurl,type:"POST",data:c,success:function(c){a(".xoo-qv-modal").html(c),d(e,f),a(".xoo-qv-pl-active").removeClass("xoo-qv-pl-active"),b(),a(".xoo-qv-panel").find(".variations_form").wc_variation_form(),a(".xoo-qv-panel .variations_form select").change()}})}function j(b){var e,f,c=a("[qv-id="+b+"]").index(".xoo-qv-button"),d=c+1,g=a(".xoo-qv-button");e=d==i?0:c+1,f=1==d?i-1:c-1;var h=g.eq(e).attr("qv-id"),j=g.eq(f).attr("qv-id");return{product_id:b,qv_next:h,qv_prev:j}}a(".xoo-qv-panel").on("click",".xoo-qv-close",g),a("body").on("click",".xoo-qv-inner-modal",g),a(document).keyup(function(b){27===b.keyCode&&a(".xoo-qv-close").trigger("click")}),a("body").on("click",".xoo-qv-button",function(){a(".xoo-qv-opac").show();var b=a(".xoo-qv-panel");b.addClass("xoo-qv-panel-active"),b.find(".xoo-qv-opl").addClass("xoo-qv-pl-active");var c=a(this).attr("qv-id"),d=j(c);f(d,"top")});var i=a(".xoo-qv-button").length;a(".xoo-qv-panel").on("click",".xoo-qv-nxt",function(){a(".xoo-qv-mpl").addClass("xoo-qv-pl-active");var b=a(this).attr("qv-nxt-id"),c=j(b);f(c,"next")}),a(".xoo-qv-panel").on("click",".xoo-qv-prev",function(){a(".xoo-qv-mpl").addClass("xoo-qv-pl-active");var b=a(this).attr("qv-prev-id"),c=j(b);f(c,"prev")})});